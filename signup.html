<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Vercel Analytics and Speed Insights -->
        <script defer src="/_vercel/insights/script.js"></script>
        <script defer src="/_vercel/speed-insights/script.js"></script>
        
        <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-NX2QKP76"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'G-7FN7LEVWXD');
        </script>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="/images/ico.ico" type="image/x-icon">
        <link rel="stylesheet" href="/storage/css/index.css">
        <title>Sign Up | Vexplay</title>

        <meta name="description" content="Sign up for Vexplay - an open source games site hosting 500+ games, useful utilities, powerful settings + a clean user interface">
        <meta property="og:site_name" content="Vexplay">
        <meta property="og:title" content="Vexplay Sign Up">
        <meta property="og:type" content="website">
        <meta property="og:description" content="Sign up for Vexplay - an open source games site hosting 500+ games, useful utilities, powerful settings + a clean user interface">
        
        <style>
            .content-side {
                min-height: 100vh;
                justify-content: flex-start;
                padding-top: 40px;
                padding-bottom: 60px;
                box-sizing: border-box;
                position: relative;
            }
            
            .auth-container {
                max-width: 400px;
                margin: 0 auto;
                padding: 20px;
                border: 3px solid var(--border-color2);
                border-radius: 16px;
                background-color: var(--background-color);
            }
            
            .form-group {
                margin-bottom: 15px;
            }
            
            .form-group label {
                display: block;
                margin-bottom: 5px;
                font-size: 16px;
            }
            
            .form-group input {
                width: 100%;
                padding: 12px;
                font-size: 16px;
                border: 2px solid var(--border-color2);
                border-radius: 8px;
                background-color: rgba(0, 0, 0, 0.2); /* Darker background for input */
                color: var(--text-color);
                font-family: var(--font-family);
                box-sizing: border-box; /* Make sure padding doesn't affect width */
                transition: border-color 0.2s, background-color 0.2s;
            }
            
            .form-group input:focus {
                outline: none;
                border-color: var(--hover-color);
                background-color: rgba(0, 0, 0, 0.3); /* Even darker on focus */
            }
            
            .auth-button {
                width: 100%;
                padding: 12px;
                background-color: var(--background-color);
                color: var(--text-color);
                border: 3px solid var(--border-color2);
                border-radius: 8px;
                font-size: 16px;
                cursor: pointer;
                font-family: var(--font-family);
                margin-top: 10px;
                transition: background-color 0.15s ease-in-out;
            }
            
            .auth-button:hover {
                background-color: var(--hover-color);
            }
            
            .auth-divider {
                text-align: center;
                margin: 20px 0;
                position: relative;
            }
            
            .auth-divider::before {
                content: "";
                position: absolute;
                top: 50%;
                left: 0;
                right: 0;
                height: 1px;
                background-color: var(--border-color2);
            }
            
            .auth-divider span {
                position: relative;
                background-color: var(--background-color);
                padding: 0 10px;
                color: var(--text-color);
            }
            
            .google-button {
                display: flex;
                align-items: center;
                justify-content: center;
                gap: 10px;
            }
            
            .google-button img {
                width: 20px;
                height: 20px;
            }
            
            .auth-footer {
                text-align: center;
                margin-top: 20px;
            }
            
            .auth-footer a {
                color: var(--text-color);
                text-decoration: underline;
                transition: color 0.15s;
            }
            
            .auth-footer a:hover {
                color: var(--hover-color);
            }
            
            .auth-error {
                color: #ff6b6b;
                margin-top: 10px;
                margin-bottom: 15px;
                text-align: center;
                padding: 8px;
                border-radius: 8px;
                background-color: rgba(255, 107, 107, 0.1);
                display: none;
            }
            
            /* Styling for country code select */
            .form-group select {
                width: 100%;
                padding: 12px;
                font-size: 16px;
                border: 2px solid var(--border-color2);
                border-radius: 8px;
                background-color: rgba(0, 0, 0, 0.2);
                color: var(--text-color);
                font-family: var(--font-family);
                box-sizing: border-box;
                transition: border-color 0.2s, background-color 0.2s;
                appearance: auto; /* Keep default dropdown arrow */
            }
            
            .form-group select:focus {
                outline: none;
                border-color: var(--hover-color);
                background-color: rgba(0, 0, 0, 0.3);
            }
            
            .footer-links {
                position: absolute;
                bottom: 20px;
                width: 100%;
                text-align: center;
            }
        </style>
  </head>
  <body>
      <div class="content-side">
          <h1 class="typewriter">Vexplay</h1>
          <h2>create an account</h2>

          <div class="auth-container">
              <div id="signupError" class="auth-error"></div>
              
              <div class="form-group">
                  <label for="email">Email</label>
                  <input type="email" id="email" placeholder="Enter your email">
              </div>
              
              <div class="form-group">
                  <label for="password">Password</label>
                  <input type="password" id="password" placeholder="Enter your password">
              </div>
              
              <div class="form-group">
                  <label for="confirmPassword">Confirm Password</label>
                  <input type="password" id="confirmPassword" placeholder="Confirm your password">
              </div>
              
              <button class="auth-button" id="signupButton">Sign Up</button>
              
              <div class="auth-divider">
                  <span>or</span>
              </div>
              
              <button class="auth-button" id="guestLoginButton">Continue as Guest</button>
              
              <div class="auth-footer">
                  <p>Already have an account? <a href="login.html">Login</a></p>
              </div>
          </div>

          <div class="footer-links">
              <p class="linkp"><a href="index.html">back to homepage</a> â€¢ <a href="https://discord.gg/k9MH6Y875s" target="_blank">discord</a></p>
          </div>
      </div>

      <!-- Add reCAPTCHA for phone auth -->
      <script src="https://www.google.com/recaptcha/api.js"></script>
      
      <!-- Firebase SDK -->
      <script src="https://www.gstatic.com/firebasejs/10.6.0/firebase-app-compat.js"></script>
      <script src="https://www.gstatic.com/firebasejs/10.6.0/firebase-auth-compat.js"></script>

      <script>
          // Initialize Firebase
          const firebaseConfig = {
              apiKey: "AIzaSyBrD_IAs4WIf4ikI-9jdwgH65gXErj8Dv8",
              authDomain: "vexplay-33e9f.firebaseapp.com",
              projectId: "vexplay-33e9f",
              storageBucket: "vexplay-33e9f.firebasestorage.app",
              messagingSenderId: "797854431681",
              appId: "1:797854431681:web:b09b88437937b9fc551740",
              measurementId: "G-KRWYW4Z4Y3"
          };
          
          // Initialize Firebase
          firebase.initializeApp(firebaseConfig);
          
          // Handle signup form submission
          document.getElementById('signupButton').addEventListener('click', function() {
              const email = document.getElementById('email').value;
              const password = document.getElementById('password').value;
              const confirmPassword = document.getElementById('confirmPassword').value;
              const errorDiv = document.getElementById('signupError');
              
              if (!email || !password || !confirmPassword) {
                  errorDiv.textContent = 'Please fill in all fields';
                  errorDiv.style.display = 'block';
                  return;
              }
              
              if (password !== confirmPassword) {
                  errorDiv.textContent = 'Passwords do not match';
                  errorDiv.style.display = 'block';
                  return;
              }
              
              // Clear any previous errors
              errorDiv.style.display = 'none';
              
              // Create user with email and password
              firebase.auth().createUserWithEmailAndPassword(email, password)
                  .then((userCredential) => {
                      // User created successfully
                      const user = userCredential.user;
                      localStorage.setItem('userLoggedIn', 'true');
                      localStorage.setItem('userEmail', user.email);
                      localStorage.setItem('userId', user.uid);
                      localStorage.setItem('isGuest', 'false');
                      
                      // Redirect to account setup page
                      window.location.href = '/account-setup.html';
                  })
                  .catch((error) => {
                      console.error("Signup error:", error);
                      errorDiv.textContent = 'Signup failed: ' + error.message;
                      errorDiv.style.display = 'block';
                  });
          });
          
          // Guest login
          document.getElementById('guestLoginButton').addEventListener('click', function() {
              localStorage.setItem('userLoggedIn', 'true');
              localStorage.setItem('isGuest', 'true');
              
              // Redirect to home
              window.location.href = '/index.html';
          });
      </script>
      
      <script src="/storage/js/cloak.js"></script>
      <script src="/storage/js/theme.js"></script>
  </body>
</html> 